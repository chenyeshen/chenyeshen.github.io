(window.webpackJsonp=window.webpackJsonp||[]).push([[200],{849:function(n,a,s){"use strict";s.r(a);var e=s(4),t=Object(e.a)({},(function(){var n=this,a=n.$createElement,s=n._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[s("h1",{attrs:{id:"如何新建微服务，并用postman接口调试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何新建微服务，并用postman接口调试"}},[n._v("#")]),n._v(" "),s("strong",[n._v("如何新建微服务，并用postman接口调试")])]),n._v(" "),s("h5",{attrs:{id:"假如要在base-weixin下新建一个base-weixin-dome的服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#假如要在base-weixin下新建一个base-weixin-dome的服务"}},[n._v("#")]),n._v(" 假如要在base-weixin下新建一个base-weixin-dome的服务")]),n._v(" "),s("ul",[s("li",[s("p",[n._v("复制base-weixin-admin命名为base-weixin-demo")])]),n._v(" "),s("li",[s("p",[n._v("com.joolun.cloud包名不要改动，否则系统无法运行")])]),n._v(" "),s("li",[s("p",[n._v("修改模块名admin为demo（com.joolun.cloud.demo）")])]),n._v(" "),s("li",[s("p",[n._v("修改pom文件（joolun\\base-weixin\\base-weixin-demo\\pom.xml）")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/QQ%E6%88%AA%E5%9B%BE20190715113620.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/QQ%E6%88%AA%E5%9B%BE20190715113620.png",alt:"img"}}),s("OutboundLink")],1)])]),n._v(" "),s("li",[s("p",[n._v("父模块增加子模块配置（joolun\\base-weixin\\pom.xml）")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/QQ%E6%88%AA%E5%9B%BE20190715113915.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/QQ%E6%88%AA%E5%9B%BE20190715113915.png",alt:"img"}}),s("OutboundLink")],1)])]),n._v(" "),s("li",[s("p",[n._v("修改配置文件（joolun\\base-weixin\\base-weixin-demo\\src\\main\\resources\\bootstrap.yml）")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/QQ%E6%88%AA%E5%9B%BE20190715114256.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/QQ%E6%88%AA%E5%9B%BE20190715114256.png",alt:"img"}}),s("OutboundLink")],1)])]),n._v(" "),s("li",[s("p",[n._v("nacos配置中心新建 base-weixin-demo-dev.yml（http://127.0.0.1:8848/nacos/index.html）")]),n._v(" "),s("p",[s("strong",[n._v("注：client-id和client-secret可以直接用weixin/weixin，也可在后台的【终端管理】中参照weixin添加一个新的终端。不然接口将无法访问")]),n._v(" "),s("a",{attrs:{href:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/a7202d3a-eaa9-480e-8f0e-b402624df879.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/a7202d3a-eaa9-480e-8f0e-b402624df879.png",alt:"img"}}),s("OutboundLink")],1)])]),n._v(" "),s("li",[s("p",[n._v("重命名BaseWeiXinApplication为BaseWxDemoApplication")])]),n._v(" "),s("li",[s("p",[n._v("删除多余文件")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/QQ%E6%88%AA%E5%9B%BE20190715120001.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/QQ%E6%88%AA%E5%9B%BE20190715120001.png",alt:"img"}}),s("OutboundLink")],1)])]),n._v(" "),s("li",[s("p",[n._v("nacos中配置动态路由（dynamic_routes） 模仿base-weixin-admin新增一条路由")])]),n._v(" "),s("li",[s("p",[n._v("新建测试类（joolun\\base-weixin\\base-weixin-demo\\src\\main\\java\\com\\joolun\\cloud\\demo\\controller\\WxDemoController.java）")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/QQ%E6%88%AA%E5%9B%BE20190715120631.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/QQ%E6%88%AA%E5%9B%BE20190715120631.png",alt:"img"}}),s("OutboundLink")],1)])]),n._v(" "),s("li",[s("p",[n._v("清空redis缓存")])]),n._v(" "),s("li",[s("p",[n._v("依次启动nacos、base-gateway、base-auth、base-upms-admin、base-weixin-demo）")])]),n._v(" "),s("li",[s("p",[n._v("前端配置转发代理（joolun-wx\\joolun-ui\\vue.config.js） 转发代理要和nacos中配置动态路由对上")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/QQ%E6%88%AA%E5%9B%BE20190715142334.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/QQ%E6%88%AA%E5%9B%BE20190715142334.png",alt:"img"}}),s("OutboundLink")],1)])]),n._v(" "),s("li",[s("p",[n._v("启动前端项目")])]),n._v(" "),s("li",[s("p",[n._v("生产环境要在nginx中添加demo的转发代理")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("server {\n        listen       80;\n        server_name  localhost;\n\n        # 打包好的dist目录\n        root /mnt/install/joolun-ui/dist/;\n\n        location ~* ^/(auth|code|admin|gen|weixin|mall|doc|webjars|swagger-resources|upms|demo) {\n           proxy_pass http://127.0.0.1:9999;\n           #proxy_set_header Host $http_host;\n           proxy_connect_timeout 15s;\n           proxy_send_timeout 15s;\n           proxy_read_timeout 15s;\n           proxy_set_header X-Real-IP $remote_addr;\n           proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        }\n        error_page   500 502 503 504  /50x.html;\n        location = /50x.html {\n            root   html;\n        }\n    }\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br"),s("span",{staticClass:"line-number"},[n._v("20")]),s("br"),s("span",{staticClass:"line-number"},[n._v("21")]),s("br")])])])]),n._v(" "),s("h3",{attrs:{id:"postman接口调试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#postman接口调试"}},[n._v("#")]),n._v(" postman接口调试")]),n._v(" "),s("ul",[s("li",[s("p",[n._v("从后台的令牌管理中复制你账号的令牌")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/69eb17bd-fa1e-4846-aa92-589e1c63db02.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/69eb17bd-fa1e-4846-aa92-589e1c63db02.png",alt:"img"}}),s("OutboundLink")],1)])]),n._v(" "),s("li",[s("p",[n._v("postman访问http://localhost:8082/demo/demo （"),s("strong",[n._v("实际要调试的接口")]),n._v("）")])]),n._v(" "),s("li",[s("p",[n._v("headers中加入Authorization属性，值为：Bearer+ 空格 +令牌，如下图")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/de5b84a6-4172-47e4-910c-42026d266e0d.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/de5b84a6-4172-47e4-910c-42026d266e0d.png",alt:"img"}}),s("OutboundLink")],1)])]),n._v(" "),s("li",[s("p",[n._v("如果想不用token直接访问，请查看文档【A-接口直接对外暴露】")])])]),n._v(" "),s("h5",{attrs:{id:"以上完成了新服务的添加，可以配合-代码生成器-完成相应表的增、删、改、查功能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#以上完成了新服务的添加，可以配合-代码生成器-完成相应表的增、删、改、查功能"}},[n._v("#")]),n._v(" 以上完成了新服务的添加，可以配合[代码生成器]完成相应表的增、删、改、查功能")])])}),[],!1,null,null,null);a.default=t.exports}}]);
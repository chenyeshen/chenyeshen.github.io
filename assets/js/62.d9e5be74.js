(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{709:function(s,a,n){"use strict";n.r(a);var e=n(4),t=Object(e.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"_1、使用root配置的hadoop并启动会出现报错"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1、使用root配置的hadoop并启动会出现报错"}},[s._v("#")]),s._v(" 1、使用root配置的hadoop并启动会出现报错")]),s._v(" "),n("p",[s._v("错误：")]),s._v(" "),n("p",[s._v("​        Starting namenodes on [master]")]),s._v(" "),n("p",[s._v("​        ERROR: Attempting to operate on hdfs namenode as root\n​        ERROR: but there is no HDFS_NAMENODE_USER defined. Aborting operation.\n​        Starting datanodes")]),s._v(" "),n("p",[s._v("​        ERROR: Attempting to operate on hdfs datanode as root\n​        ERROR: but there is no HDFS_DATANODE_USER defined. Aborting operation.")]),s._v(" "),n("p",[s._v("​        Starting secondary namenodes [slave1]")]),s._v(" "),n("p",[s._v("​        ERROR: Attempting to operate on hdfs secondarynamenode as root")]),s._v(" "),n("p",[s._v("​        ERROR: but there is no HDFS_SECONDARYNAMENODE_USER defined. Aborting operation.")]),s._v(" "),n("p",[s._v("解决方法：")]),s._v(" "),n("p",[s._v("​         "),n("strong",[s._v("在/hadoop/sbin路径下：")]),s._v("\n​         将start-dfs.sh，stop-dfs.sh两个文件顶部添加以下参数")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("HDFS_DATANODE_USER=root\nHADOOP_SECURE_DN_USER=hdfs\nHDFS_NAMENODE_USER=root\nHDFS_SECONDARYNAMENODE_USER=root\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("​"),n("br"),s._v("\n​         start-yarn.sh，stop-yarn.sh顶部也需添加以下\n​")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("YARN_RESOURCEMANAGER_USER=root\nHADOOP_SECURE_DN_USER=yarn\nYARN_NODEMANAGER_USER=root\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("​")]),s._v(" "),n("h2",{attrs:{id:"_2、添加1后出现以下错误"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2、添加1后出现以下错误"}},[s._v("#")]),s._v(" 2、添加1后出现以下错误")]),s._v(" "),n("p",[s._v("WARNING: HADOOP_SECURE_DN_USER has been replaced by HDFS_DATANODE_SECURE_USER. Using value of HADOOP_SECURE_DN_USER.\nStarting namenodes on [mylinux_1]\nmylinux_1: Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).\nStarting datanodes\nlocalhost: Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).\nStarting secondary namenodes [mylinux_1]\nmylinux_1: Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).\n2018-11-26 09:32:18,082 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\nStarting resourcemanager\nStarting nodemanagers\nlocalhost: Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).")]),s._v(" "),n("h2",{attrs:{id:"解决办法：配置免密登录（注意：对本机也需要配置）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#解决办法：配置免密登录（注意：对本机也需要配置）"}},[s._v("#")]),s._v(" 解决办法：配置免密登录（注意：对本机也需要配置）")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("ssh-keygen -t rsa\n\nssh-copy-id -i ~/.ssh/id_rsa.pub root@MyLinux_1\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[230],{876:function(n,s,e){"use strict";e.r(s);var a=e(4),l=Object(a.a)({},(function(){var n=this,s=n.$createElement,e=n._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("p",[e("strong",[n._v("问题描述：")])]),n._v(" "),e("p",[n._v("今天查看日志时，发现日志文件已经达到几百MB,且日志文件没有每天生成新的日志文件，只有每次启动的时候才生成了一个日志文件，应用不重启，日志文件一直会在原来文件中追加写入，不按照日期写入新的文件。")]),n._v(" "),e("p",[n._v("歌莉娅系统 因为设置了日志大小限制  导致 未能按照日期生成文件   感谢 科普哥的帮忙  奈斯！！！")]),n._v(" "),e("p",[n._v("总结：")]),n._v(" "),e("p",[n._v("不能同时按日志文件大小和日期分割日志文件，如果按照日期分割文件则,不能填写日志大小配置，不然会按日志大小切割,且只会生成对应大小的文件，超过规定大小后日志文件不在写入，也不生成新的文件。")]),n._v(" "),e("h2",{attrs:{id:"修复正常如下："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修复正常如下："}},[n._v("#")]),n._v(" 修复正常如下：")]),n._v(" "),e("p",[e("img",{attrs:{src:"https://gitee.com/daixiaomao/Images/raw/master/img/image-20210405001913179.png",alt:"image-20210405001913179"}})]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('<?xml version="1.0" encoding="UTF-8"?>\n<configuration debug="false">\n    \x3c!-- 设置Spring Boot 框架日志级别 --\x3e\n    <logger name="org.springframework" level="WARN"/>\n    <logger name="org.hibernate" level="WARN"/>\n\n    \x3c!--定义日志文件的存储地址 勿在 LogBack 的配置中使用相对路径--\x3e\n    <springProperty scope="context" name="logPath" source="server.log.path"/>\n    <springProperty scope="context" name="logLevel" source="server.log.level"/>\n    <property name="LOG_HOME" value="${logPath}" />\n    <property name="LOG_LEVEL" value="${logLevel}" />\n\n    \x3c!-- 控制台输出 --\x3e\n    <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">\n        <encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">\n            \x3c!--格式化输出：%d表示日期，%thread表示线程名，%-5level：级别从左显示5个字符宽度%msg：日志消息，%n是换行符--\x3e\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} %highlight(%-5level) %logger{30} - %msg %green([%thread]) %n</pattern>\n        </encoder>\n    </appender>\n\n\n\n    \x3c!-- 按照每天生成日志文件 --\x3e\n    <appender name="ERROR"  class="ch.qos.logback.core.rolling.RollingFileAppender">\n        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">\n            \x3c!--日志文件输出的文件名--\x3e\n            <FileNamePattern>${LOG_HOME}/%d{yyyy-MM-dd,aux}/error/CSKefu.error.log.%d{yyyy-MM-dd}.log</FileNamePattern>\n            \x3c!--日志文件保留天数--\x3e\n            <MaxHistory>10</MaxHistory>\n\n            \x3c!-- 开启日志清除 --\x3e\n            <cleanHistoryOnStart>true</cleanHistoryOnStart>\n\n        </rollingPolicy>\n        <encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">\n            \x3c!--格式化输出：%d表示日期，%thread表示线程名，%-5level：级别从左显示5个字符宽度%msg：日志消息，%n是换行符--\x3e\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n</pattern>\n        </encoder>\n\n        <filter class="ch.qos.logback.classic.filter.LevelFilter">\x3c!-- 只打印错误日志 --\x3e\n\t        <level>ERROR</level>\n\t        <onMatch>ACCEPT</onMatch>\n\t        <onMismatch>DENY</onMismatch>\n\t    </filter>\n    </appender>\n\n    <appender name="WARN"  class="ch.qos.logback.core.rolling.RollingFileAppender">\n        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">\n            \x3c!--日志文件输出的文件名--\x3e\n            <FileNamePattern>${LOG_HOME}/%d{yyyy-MM-dd,aux}/warn/CSKefu.warn.log.%d{yyyy-MM-dd}.log</FileNamePattern>\n            \x3c!--日志文件保留天数--\x3e\n            <MaxHistory>10</MaxHistory>\n\n            \x3c!-- 开启日志清除 --\x3e\n            <cleanHistoryOnStart>true</cleanHistoryOnStart>\n\n        </rollingPolicy>\n        <encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">\n            \x3c!--格式化输出：%d表示日期，%thread表示线程名，%-5level：级别从左显示5个字符宽度%msg：日志消息，%n是换行符--\x3e\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n</pattern>\n        </encoder>\n\n        <filter class="ch.qos.logback.classic.filter.LevelFilter">\x3c!-- 只打印错误日志 --\x3e\n            <level>warn</level>\n            <onMatch>ACCEPT</onMatch>\n            <onMismatch>DENY</onMismatch>\n        </filter>\n    </appender>\n\n    <appender name="INFO"  class="ch.qos.logback.core.rolling.RollingFileAppender">\n        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">\n            \x3c!--日志文件输出的文件名--\x3e\n            <FileNamePattern>${LOG_HOME}/%d{yyyy-MM-dd,aux}/info/CSKefu.info.log.%d{yyyy-MM-dd}.log</FileNamePattern>\n            \x3c!--日志文件保留天数--\x3e\n            <MaxHistory>10</MaxHistory>\n\n            \x3c!-- 开启日志清除 --\x3e\n            <cleanHistoryOnStart>true</cleanHistoryOnStart>\n\n        </rollingPolicy>\n        <encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">\n            \x3c!--格式化输出：%d表示日期，%thread表示线程名，%-5level：级别从左显示5个字符宽度%msg：日志消息，%n是换行符--\x3e\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n</pattern>\n        </encoder>\n\n\n        <filter class="ch.qos.logback.classic.filter.LevelFilter">\x3c!-- 只打印INFO日志 --\x3e\n\t        <level>INFO</level>\n\t        <onMatch>ACCEPT</onMatch>\n\t        <onMismatch>DENY</onMismatch>\n\t    </filter>\n    </appender>\n\n    <appender name="DEBUG"  class="ch.qos.logback.core.rolling.RollingFileAppender">\n        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">\n            \x3c!--日志文件输出的文件名--\x3e\n            <FileNamePattern>${LOG_HOME}/%d{yyyy-MM-dd,aux}/debug/CSKefu.debug.log.%d{yyyy-MM-dd}.log</FileNamePattern>\n            \x3c!--日志文件保留天数--\x3e\n            <MaxHistory>10</MaxHistory>\n            \x3c!-- 开启日志清除 --\x3e\n            <cleanHistoryOnStart>true</cleanHistoryOnStart>\n\n        </rollingPolicy>\n        <encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">\n            \x3c!--格式化输出：%d表示日期，%thread表示线程名，%-5level：级别从左显示5个字符宽度%msg：日志消息，%n是换行符--\x3e\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n</pattern>\n        </encoder>\n\n        <filter class="ch.qos.logback.classic.filter.LevelFilter">\x3c!-- 只打印DEBUG日志 --\x3e\n\t        <level>DEBUG</level>\n\t        <onMatch>ACCEPT</onMatch>\n\t        <onMismatch>DENY</onMismatch>\n\t    </filter>\n    </appender>\n\n\n    \x3c!-- 日志输出级别 --\x3e\n    <root level="${LOG_LEVEL}">\n        <appender-ref ref="STDOUT" />\n        <appender-ref ref="ERROR" />\n        <appender-ref ref="WARN" />\n        <appender-ref ref="INFO" />\n        <appender-ref ref="DEBUG" />\n    </root>\n</configuration>\n\n')])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br"),e("span",{staticClass:"line-number"},[n._v("7")]),e("br"),e("span",{staticClass:"line-number"},[n._v("8")]),e("br"),e("span",{staticClass:"line-number"},[n._v("9")]),e("br"),e("span",{staticClass:"line-number"},[n._v("10")]),e("br"),e("span",{staticClass:"line-number"},[n._v("11")]),e("br"),e("span",{staticClass:"line-number"},[n._v("12")]),e("br"),e("span",{staticClass:"line-number"},[n._v("13")]),e("br"),e("span",{staticClass:"line-number"},[n._v("14")]),e("br"),e("span",{staticClass:"line-number"},[n._v("15")]),e("br"),e("span",{staticClass:"line-number"},[n._v("16")]),e("br"),e("span",{staticClass:"line-number"},[n._v("17")]),e("br"),e("span",{staticClass:"line-number"},[n._v("18")]),e("br"),e("span",{staticClass:"line-number"},[n._v("19")]),e("br"),e("span",{staticClass:"line-number"},[n._v("20")]),e("br"),e("span",{staticClass:"line-number"},[n._v("21")]),e("br"),e("span",{staticClass:"line-number"},[n._v("22")]),e("br"),e("span",{staticClass:"line-number"},[n._v("23")]),e("br"),e("span",{staticClass:"line-number"},[n._v("24")]),e("br"),e("span",{staticClass:"line-number"},[n._v("25")]),e("br"),e("span",{staticClass:"line-number"},[n._v("26")]),e("br"),e("span",{staticClass:"line-number"},[n._v("27")]),e("br"),e("span",{staticClass:"line-number"},[n._v("28")]),e("br"),e("span",{staticClass:"line-number"},[n._v("29")]),e("br"),e("span",{staticClass:"line-number"},[n._v("30")]),e("br"),e("span",{staticClass:"line-number"},[n._v("31")]),e("br"),e("span",{staticClass:"line-number"},[n._v("32")]),e("br"),e("span",{staticClass:"line-number"},[n._v("33")]),e("br"),e("span",{staticClass:"line-number"},[n._v("34")]),e("br"),e("span",{staticClass:"line-number"},[n._v("35")]),e("br"),e("span",{staticClass:"line-number"},[n._v("36")]),e("br"),e("span",{staticClass:"line-number"},[n._v("37")]),e("br"),e("span",{staticClass:"line-number"},[n._v("38")]),e("br"),e("span",{staticClass:"line-number"},[n._v("39")]),e("br"),e("span",{staticClass:"line-number"},[n._v("40")]),e("br"),e("span",{staticClass:"line-number"},[n._v("41")]),e("br"),e("span",{staticClass:"line-number"},[n._v("42")]),e("br"),e("span",{staticClass:"line-number"},[n._v("43")]),e("br"),e("span",{staticClass:"line-number"},[n._v("44")]),e("br"),e("span",{staticClass:"line-number"},[n._v("45")]),e("br"),e("span",{staticClass:"line-number"},[n._v("46")]),e("br"),e("span",{staticClass:"line-number"},[n._v("47")]),e("br"),e("span",{staticClass:"line-number"},[n._v("48")]),e("br"),e("span",{staticClass:"line-number"},[n._v("49")]),e("br"),e("span",{staticClass:"line-number"},[n._v("50")]),e("br"),e("span",{staticClass:"line-number"},[n._v("51")]),e("br"),e("span",{staticClass:"line-number"},[n._v("52")]),e("br"),e("span",{staticClass:"line-number"},[n._v("53")]),e("br"),e("span",{staticClass:"line-number"},[n._v("54")]),e("br"),e("span",{staticClass:"line-number"},[n._v("55")]),e("br"),e("span",{staticClass:"line-number"},[n._v("56")]),e("br"),e("span",{staticClass:"line-number"},[n._v("57")]),e("br"),e("span",{staticClass:"line-number"},[n._v("58")]),e("br"),e("span",{staticClass:"line-number"},[n._v("59")]),e("br"),e("span",{staticClass:"line-number"},[n._v("60")]),e("br"),e("span",{staticClass:"line-number"},[n._v("61")]),e("br"),e("span",{staticClass:"line-number"},[n._v("62")]),e("br"),e("span",{staticClass:"line-number"},[n._v("63")]),e("br"),e("span",{staticClass:"line-number"},[n._v("64")]),e("br"),e("span",{staticClass:"line-number"},[n._v("65")]),e("br"),e("span",{staticClass:"line-number"},[n._v("66")]),e("br"),e("span",{staticClass:"line-number"},[n._v("67")]),e("br"),e("span",{staticClass:"line-number"},[n._v("68")]),e("br"),e("span",{staticClass:"line-number"},[n._v("69")]),e("br"),e("span",{staticClass:"line-number"},[n._v("70")]),e("br"),e("span",{staticClass:"line-number"},[n._v("71")]),e("br"),e("span",{staticClass:"line-number"},[n._v("72")]),e("br"),e("span",{staticClass:"line-number"},[n._v("73")]),e("br"),e("span",{staticClass:"line-number"},[n._v("74")]),e("br"),e("span",{staticClass:"line-number"},[n._v("75")]),e("br"),e("span",{staticClass:"line-number"},[n._v("76")]),e("br"),e("span",{staticClass:"line-number"},[n._v("77")]),e("br"),e("span",{staticClass:"line-number"},[n._v("78")]),e("br"),e("span",{staticClass:"line-number"},[n._v("79")]),e("br"),e("span",{staticClass:"line-number"},[n._v("80")]),e("br"),e("span",{staticClass:"line-number"},[n._v("81")]),e("br"),e("span",{staticClass:"line-number"},[n._v("82")]),e("br"),e("span",{staticClass:"line-number"},[n._v("83")]),e("br"),e("span",{staticClass:"line-number"},[n._v("84")]),e("br"),e("span",{staticClass:"line-number"},[n._v("85")]),e("br"),e("span",{staticClass:"line-number"},[n._v("86")]),e("br"),e("span",{staticClass:"line-number"},[n._v("87")]),e("br"),e("span",{staticClass:"line-number"},[n._v("88")]),e("br"),e("span",{staticClass:"line-number"},[n._v("89")]),e("br"),e("span",{staticClass:"line-number"},[n._v("90")]),e("br"),e("span",{staticClass:"line-number"},[n._v("91")]),e("br"),e("span",{staticClass:"line-number"},[n._v("92")]),e("br"),e("span",{staticClass:"line-number"},[n._v("93")]),e("br"),e("span",{staticClass:"line-number"},[n._v("94")]),e("br"),e("span",{staticClass:"line-number"},[n._v("95")]),e("br"),e("span",{staticClass:"line-number"},[n._v("96")]),e("br"),e("span",{staticClass:"line-number"},[n._v("97")]),e("br"),e("span",{staticClass:"line-number"},[n._v("98")]),e("br"),e("span",{staticClass:"line-number"},[n._v("99")]),e("br"),e("span",{staticClass:"line-number"},[n._v("100")]),e("br"),e("span",{staticClass:"line-number"},[n._v("101")]),e("br"),e("span",{staticClass:"line-number"},[n._v("102")]),e("br"),e("span",{staticClass:"line-number"},[n._v("103")]),e("br"),e("span",{staticClass:"line-number"},[n._v("104")]),e("br"),e("span",{staticClass:"line-number"},[n._v("105")]),e("br"),e("span",{staticClass:"line-number"},[n._v("106")]),e("br"),e("span",{staticClass:"line-number"},[n._v("107")]),e("br"),e("span",{staticClass:"line-number"},[n._v("108")]),e("br"),e("span",{staticClass:"line-number"},[n._v("109")]),e("br"),e("span",{staticClass:"line-number"},[n._v("110")]),e("br"),e("span",{staticClass:"line-number"},[n._v("111")]),e("br"),e("span",{staticClass:"line-number"},[n._v("112")]),e("br"),e("span",{staticClass:"line-number"},[n._v("113")]),e("br"),e("span",{staticClass:"line-number"},[n._v("114")]),e("br"),e("span",{staticClass:"line-number"},[n._v("115")]),e("br"),e("span",{staticClass:"line-number"},[n._v("116")]),e("br"),e("span",{staticClass:"line-number"},[n._v("117")]),e("br"),e("span",{staticClass:"line-number"},[n._v("118")]),e("br"),e("span",{staticClass:"line-number"},[n._v("119")]),e("br"),e("span",{staticClass:"line-number"},[n._v("120")]),e("br"),e("span",{staticClass:"line-number"},[n._v("121")]),e("br"),e("span",{staticClass:"line-number"},[n._v("122")]),e("br"),e("span",{staticClass:"line-number"},[n._v("123")]),e("br"),e("span",{staticClass:"line-number"},[n._v("124")]),e("br"),e("span",{staticClass:"line-number"},[n._v("125")]),e("br"),e("span",{staticClass:"line-number"},[n._v("126")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://gitee.com/daixiaomao/Images/raw/master/img/image-20210405000729730.png",alt:"image-20210405000729730"}})])])}),[],!1,null,null,null);s.default=l.exports}}]);
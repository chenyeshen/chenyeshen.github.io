(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{703:function(s,a,n){"use strict";n.r(a);var e=n(4),t=Object(e.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"完全分布式模式："}},[n("a",{staticClass:"header-anchor",attrs:{href:"#完全分布式模式："}},[s._v("#")]),s._v(" 完全分布式模式：")]),s._v(" "),n("p",[s._v("前面已经说了本地模式和伪分布模式，这两种在hadoop的应用中并不用于实际，因为几乎没人会将整个hadoop集群搭建在一台服务器上（hadoop主要是围绕：分布式计算和分布式存储，如果以一台服务器做，那就完全违背了hadoop的核心方法）。简单说，本地模式是hadoop的安装，伪分布模式是本地搭建hadoop的模拟环境。（当然实际上并不是这个样子的，小博主有机会给大家说！）")]),s._v(" "),n("p",[s._v("那么在hadoop的搭建，其实真正用于生产的就是完全分布式模式：")]),s._v(" "),n("p",[s._v("思路简介")]),s._v(" "),n("p",[s._v("域名解析")]),s._v(" "),n("p",[s._v("ssh免密登陆")]),s._v(" "),n("p",[s._v("java和hadoop环境")]),s._v(" "),n("p",[s._v("配置hadoop文件")]),s._v(" "),n("p",[s._v("复制主节点到其他节点")]),s._v(" "),n("p",[s._v("格式化主节点")]),s._v(" "),n("hr"),s._v(" "),n("h2",{attrs:{id:"hadoop搭建过程-简介"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#hadoop搭建过程-简介"}},[s._v("#")]),s._v(" hadoop搭建过程+简介")]),s._v(" "),n("p",[s._v("在搭建完全分布式前大家需要了解以下内容，以便于大家更好的了解hadoop环境：")]),s._v(" "),n("p",[s._v("1.hadoop的核心：分布式存储和分布式计算（用官方的说法就是HDFS和MapReduce）")]),s._v(" "),n("p",[s._v("2.集群结构：1+1+n 集群结构（主节点+备用节点+多个从节点）")]),s._v(" "),n("p",[s._v("3.域名解析：这里为了方便，我们选择修改/etc/hosts实现域名解析（hadoop会在.../etc/hadoop/salves下添加从节点，这里需要解析名，当然你也能直接输入ip地址，更简单）")]),s._v(" "),n("p",[s._v("4.hadoop的命令发放，需要从ssh接口登录到其他服务器上，所以需要配置ssh免密登陆")]),s._v(" "),n("p",[s._v("5.本文采取1+1+3 集群方式：域名为：s100（主）,s10（备主）,s1,s2,s3（从）")]),s._v(" "),n("hr"),s._v(" "),n("h2",{attrs:{id:"一：配置域名解析"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一：配置域名解析"}},[s._v("#")]),s._v(" 一：配置域名解析")]),s._v(" "),n("p",[s._v("主——s100:")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("[root@localhost ~]# vim /etc/hosts\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:"https://images2017.cnblogs.com/blog/1293848/201712/1293848-20171227105303323-830999954.png",alt:"img"}})]),s._v(" "),n("p",[s._v("将s100上的/etc/hosts拷贝到其他hadoop的集群服务器上。例如：")]),s._v(" "),n("p",[s._v("将s100的/etc/hosts拷贝到s1上")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1 [root@localhost ~]# scp /etc/hosts root@192.168.1.108:/etc/hosts\n2 The authenticity of host '192.168.1.108 (192.168.1.108)' can't be established.\n3 RSA key fingerprint is dd:64:75:5f:96:11:07:39:a3:fb:aa:3c:30:ae:59:82.\n4 Are you sure you want to continue connecting (yes/no)? yes\n5 Warning: Permanently added '192.168.1.108' (RSA) to the list of known hosts.\n6 root@192.168.1.108's password: \n7 hosts                                                    100%  246     0.2KB/s   00:00 \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[n("img",{attrs:{src:"https://images2017.cnblogs.com/blog/1293848/201712/1293848-20171227105829370-609955074.png",alt:"img"}})]),s._v(" "),n("p",[s._v("将所有服务器的域名解析配置完成，进行下一步")]),s._v(" "),n("hr"),s._v(" "),n("h2",{attrs:{id:"二：配置ssh免密码登录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二：配置ssh免密码登录"}},[s._v("#")]),s._v(" 二：配置ssh免密码登录")]),s._v(" "),n("p",[s._v("备注：考虑到有的小伙伴可能没有openssh-server（ssh服务）【百度一下帮大家搜索了一下，总结如下】——小博主是不是很暖呢？")]),s._v(" "),n("p",[s._v("主——s100：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v(" 1 [root@localhost ~]# ssh-keygen -t rsa -P ''\n 2 Generating public/private rsa key pair.\n 3 Enter file in which to save the key (/root/.ssh/id_rsa): \n 4 Your identification has been saved in /root/.ssh/id_rsa.\n 5 Your public key has been saved in /root/.ssh/id_rsa.pub.\n 6 The key fingerprint is:\n 7 a4:6e:8d:31:66:e1:92:04:37:8e:1c:a5:83:5e:39:c5 root@localhost.localdomain\n 8 The key's randomart image is:\n 9 +--[ RSA 2048]----+\n10 |  o.=.           |\n11 | o BoE           |\n12 |. =+o . .        |\n13 |. .o.o +         |\n14 | .  o B S        |\n15 |     = =         |\n16 |      + .        |\n17 |     .           |\n18 |                 |\n19 +-----------------+\n20 [root@localhost ~]# cd /root/.ssh/\n21 [root@localhost .ssh]# ls\n22 id_rsa  id_rsa.pub  known_hosts\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br")])]),n("p",[s._v("默认是存在/当前user/.ssh（/root/.ssh或者/home/user/.ssh）下的！")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://images2017.cnblogs.com/blog/1293848/201712/1293848-20171227111408276-700757517.png",alt:"img"}})]),s._v(" "),n("p",[s._v("有了密钥对：将id_rsa.pub加到授权中：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1 [root@localhost .ssh]# cat id_rsa.pub >> authorized_keys（/root/.ssh下）\n2 [root@localhost .ssh]# ls\n3 authorized_keys  id_rsa  id_rsa.pub  known_hosts\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[n("img",{attrs:{src:"https://images2017.cnblogs.com/blog/1293848/201712/1293848-20171227112044479-882200614.png",alt:"img"}})]),s._v(" "),n("p",[s._v("备注：")]),s._v(" "),n("p",[s._v("试一下是否本地免密登陆设置成功：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1 [root@localhost .ssh]# ssh localhost\n2 The authenticity of host 'localhost (::1)' can't be established.\n3 RSA key fingerprint is 9e:e0:91:0f:1f:98:af:1a:83:5d:33:06:03:8a:39:93.\n4 Are you sure you want to continue connecting (yes/no)? yes（第一次登陆需要确定）\n5 Warning: Permanently added 'localhost' (RSA) to the list of known hosts.\n6 Last login: Tue Dec 26 19:09:23 2017 from 192.168.1.156\n7 [root@localhost ~]# exit\n8 logout\n9 Connection to localhost closed.\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[n("img",{attrs:{src:"https://images2017.cnblogs.com/blog/1293848/201712/1293848-20171227112741588-500919495.png",alt:"img"}})]),s._v(" "),n("p",[s._v("ok！没有问题，那么配置其他服务器，其实只需要把本机s100的id_rsa.pub复制到其他服务器上就可以了！")]),s._v(" "),n("p",[s._v("这里就选择ssh-copy-id命令传送到其他服务器上（小博主这可不是偷懒！有命令就应该拿过来！）")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v(" 1 [root@localhost .ssh]# ssh-copy-id root@s1（s1是主机地址，这里提醒大家一下，因为有人因为这个问题问过我╭(╯^╰)╮）\n 2 The authenticity of host 's1 (192.168.1.108)' can't be established.\n 3 RSA key fingerprint is dd:64:75:5f:96:11:07:39:a3:fb:aa:3c:30:ae:59:82.\n 4 Are you sure you want to continue connecting (yes/no)? yes\n 5 Warning: Permanently added 's1' (RSA) to the list of known hosts.\n 6 root@s1's password: \n 7 Now try logging into the machine, with \"ssh 'root@s1'\", and check in:\n 8 \n 9   .ssh/authorized_keys\n10 \n11 to make sure we haven't added extra keys that you weren't expecting.\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[n("img",{attrs:{src:"https://images2017.cnblogs.com/blog/1293848/201712/1293848-20171227113900416-989175671.png",alt:"img"}})]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("登录了一下，没有问题\n1 [root@localhost .ssh]# ssh s1\n2 Last login: Wed Dec 27 18:50:12 2017 from 192.168.1.156\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("将剩余的配置完成！")]),s._v(" "),n("hr"),s._v(" "),n("p",[s._v("**主节点 **")]),s._v(" "),n("h2",{attrs:{id:"三：配置java环境和安装hadoop（hadoop环境）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三：配置java环境和安装hadoop（hadoop环境）"}},[s._v("#")]),s._v(" 三：配置java环境和安装hadoop（hadoop环境）")]),s._v(" "),n("p",[s._v("备注：这里小伙伴必须要知道的是，不管hadoop的主节点还是从节点甚至说备主节点，他们的java环境和hadoop环境都一样，所以我们只需要配置完一台服务器，就完成了所有的配置过程")]),s._v(" "),n("p",[s._v("因为完全分布模式也是在本地模式的基础上配置的，所以我们首先配置本地模式：")]),s._v(" "),n("p",[s._v("java环境和hadoop的安装等过程就是前面所说的本地模式了，这里就不多说了：")]),s._v(" "),n("hr"),s._v(" "),n("h2",{attrs:{id:"四：配置内容："}},[n("a",{staticClass:"header-anchor",attrs:{href:"#四：配置内容："}},[s._v("#")]),s._v(" 四：配置内容：")]),s._v(" "),n("p",[s._v("备注：对于配置文件以后会有时间会单独写一篇相关的文档")]),s._v(" "),n("p",[s._v("主要修改以下五个文件：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1 hadoop的配置文件：/usr/local/hadoop/etc/hadoop\n2 [root@localhost hadoop]# cd /usr/local/hadoop/etc/hadoop\n3 [root@localhost hadoop]# ls\n4 core-site.xml\n5 hdfs-site.xml\n6 mapred-site.xml\n7 yarn-site.xml4\n8 slaves\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[n("img",{attrs:{src:"https://images2017.cnblogs.com/blog/1293848/201712/1293848-20171227115246807-1152234790.png",alt:"img"}})]),s._v(" "),n("p",[s._v("配置 core-site.xml：")]),s._v(" "),n("p",[s._v("主要：指定主节点")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("<configuration>\n        <property>\n                <name>fs.defaultFS</name>\n                <value>hdfs://s100/</value>\n        </property>\n        #临时文件\n        <property>\n                <name>hadoop.tmp.dir</name>\n                <value>/root/hadoop</value>\n        </property>\n</configuration>\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[n("img",{attrs:{src:"https://images2017.cnblogs.com/blog/1293848/201712/1293848-20171227143413269-1874992257.png",alt:"img"}})]),s._v(" "),n("p",[s._v("配置hdfs-site.xml：")]),s._v(" "),n("p",[s._v("主要：指定备份数量")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("<configuration>\n        #默认备份数为3，如果采取默认数，那么slaves不能少于备份数\n        <property>\n                <name>dfs.replication</name>\n                <value>2</value>#备份数\n        </property>\n\n        #备主\n        <property>\n                <name>dfs.namenode.secondary.http-address</name>\n                <value>s10:50000</value>\n        </property>\n\n        <property>\n                <name>dfs.namenode.name.dir</name>\n                <value>file:///${hadoop.tmp.dir}/dfs/name</value>\n        </property>\n</configuration>\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("p",[n("img",{attrs:{src:"https://images2017.cnblogs.com/blog/1293848/201712/1293848-20171227145248394-1204746786.png",alt:"img"}})]),s._v(" "),n("p",[s._v("配置mapred-site.xml：")]),s._v(" "),n("p",[s._v("主要：指定资源管理yran方法")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("<configuration>\n        <property>\n                <name>mapreduce.framework.name</name>\n                <value>yarn</value>\n        </property>\n</configuration>\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[n("img",{attrs:{src:"https://images2017.cnblogs.com/blog/1293848/201712/1293848-20171227145704081-122854379.png",alt:"img"}})]),s._v(" "),n("p",[s._v("配置yarn-site.xml：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("<configuration>\n        <property>\n                <name>yarn.resourcemanager.hostname</name>\n                <value>s100</value>\n        </property>\n        \n        <property>\n                <name>yarn.nodemanager.aux-services</name>\n                <value>mapreduce_shuffle</value>\n        </property>\n</configuration>\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[n("img",{attrs:{src:"https://images2017.cnblogs.com/blog/1293848/201712/1293848-20171227150343191-212256493.png",alt:"img"}})]),s._v(" "),n("p",[s._v("配置slaves：")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://images2017.cnblogs.com/blog/1293848/201712/1293848-20171227150537206-933935650.png",alt:"img"}})]),s._v(" "),n("hr"),s._v(" "),n("h2",{attrs:{id:"五：scp-java环境和hadoop配置文件（hadoop环境）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#五：scp-java环境和hadoop配置文件（hadoop环境）"}},[s._v("#")]),s._v(" 五：scp-java环境和hadoop配置文件（hadoop环境）")]),s._v(" "),n("p",[s._v("做到这里，基本就完成了，现在就把主节点的所以配置都放到从节点上！")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1 [root@localhost ~]# scp -r /usr/local/java root@s1:/usr/local/\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("复制java")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1 scp -r /usr/local/hadoop root@s1:/usr/local/\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("复制hadoop")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1 [root@localhost ~]# scp /etc/profile root@s1:/etc/profile\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("环境变量")]),s._v(" "),n("p",[s._v("登录到s1中执行source")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1 [root@localhost ~]# ssh s1\n2 Last login: Wed Dec 27 23:18:48 2017 from s100\n3 [root@localhost ~]# source /etc/profile\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("s1配置完成，其他的服务器一样！")]),s._v(" "),n("hr"),s._v(" "),n("h2",{attrs:{id:"六：格式化主节点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#六：格式化主节点"}},[s._v("#")]),s._v(" 六：格式化主节点")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1 [root@localhost ~]# hadoop namenode -format\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("启动hadoop：")]),s._v(" "),n("p",[s._v("start-all.sh")]),s._v(" "),n("p",[s._v("关闭hadoop：")]),s._v(" "),n("p",[s._v("stop-all.sh")]),s._v(" "),n("hr"),s._v(" "),n("p",[s._v("jps查询进程信息")]),s._v(" "),n("p",[s._v("主节点：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1 [root@localhost ~]# jps\n2 30996 Jps\n3 30645 NameNode\n4 30917 ResourceManager\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("2主节点：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1 [root@localhost ~]# jps\n2 33571 Jps\n3 33533 SecondaryNameNode\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("从节点：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1 [root@localhost ~]# jps\n2 33720 Jps\n3 33691 NodeManager\n4 33630 DataNode\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);
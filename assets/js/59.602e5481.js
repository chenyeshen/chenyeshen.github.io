(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{704:function(t,s,a){"use strict";a.r(s);var o=a(4),e=Object(o.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"配置mysql服务自启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置mysql服务自启动"}},[t._v("#")]),t._v(" 配置MySQL服务自启动")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@hadoop000 ~]# cd /usr/local/mysql\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("#将服务文件拷贝到init.d下，并重命名为\nmysql")]),t._v(" "),a("p",[t._v("[root@hadoop000 mysql]# cp support-files/mysql.server /etc/rc.d/init.d/mysql")]),t._v(" "),a("p",[t._v("#赋予可执行权限")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@hadoop000 mysql]# chmod +x /etc/rc.d/init.d/mysql\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("#删除服务")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@hadoop000 mysql]# chkconfig --del mysql\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("#添加服务")]),t._v(" "),a("p",[t._v("[root@hadoop000 mysql]# chkconfig --add mysql")]),t._v(" "),a("p",[t._v("[root@hadoop000 mysql]# chkconfig --level 345 mysql on")]),t._v(" "),a("p",[t._v("[root@sht-sgmhadoopnn-01 mysql]# vi /etc/rc.local\n#!/bin/sh")]),t._v(" "),a("p",[t._v("#\n# This script will be executed "),a("em",[t._v("after")]),t._v(" all the other init scripts.")]),t._v(" "),a("p",[t._v("# You can put your own initialization stuff in here if you don't")]),t._v(" "),a("p",[t._v("# want to do the full Sys V style init stuff.")]),t._v(" "),a("p",[t._v("touch /var/lock/subsys/local")]),t._v(" "),a("p",[t._v('su - mysqladmin -c "/etc/init.d/mysql start --federated"')]),t._v(" "),a("p",[t._v('"/etc/rc.local" 9L, 278C written')]),t._v(" "),a("h2",{attrs:{id:"配置-hadoop-服务自启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-hadoop-服务自启动"}},[t._v("#")]),t._v(" 配置 Hadoop 服务自启动")]),t._v(" "),a("h4",{attrs:{id:"_1、进入到-etc-init-d目录下，编辑一个新的脚本文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、进入到-etc-init-d目录下，编辑一个新的脚本文件"}},[t._v("#")]),t._v(" 1、进入到/etc/init.d目录下，编辑一个新的脚本文件")]),t._v(" "),a("p",[t._v("hadoop\n# cd /etc/init.d\n# vi hadoop")]),t._v(" "),a("h4",{attrs:{id:"_2、编辑脚本文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、编辑脚本文件"}},[t._v("#")]),t._v(" 2、编辑脚本文件")]),t._v(" "),a("p",[t._v("hadoop")]),t._v(" "),a("p",[t._v("#！/bin/bash")]),t._v(" "),a("p",[t._v("#chkconfig:345")]),t._v(" "),a("p",[t._v("#description:script to start/stop hadoop")]),t._v(" "),a("p",[t._v("su - hadoop <<!")]),t._v(" "),a("p",[t._v("case $1 in")]),t._v(" "),a("p",[t._v("start)")]),t._v(" "),a("p",[t._v("sh /home/hadoop/app/hadoop-2.6.0-cdh5.7.0/sbin/start-all.sh")]),t._v(" "),a("p",[t._v(";;")]),t._v(" "),a("p",[t._v("stop)")]),t._v(" "),a("p",[t._v("sh /home/hadoop/app/hadoop-2.6.0-cdh5.7.0/sbin/stop-all.sh")]),t._v(" "),a("p",[t._v(";;")]),t._v(" "),a("p",[t._v("*)")]),t._v(" "),a("p",[t._v('echo "Usage:$0(start|stop)"')]),t._v(" "),a("p",[t._v(";;")]),t._v(" "),a("p",[t._v("esac")]),t._v(" "),a("p",[t._v("exit")]),t._v(" "),a("p",[t._v("!")]),t._v(" "),a("h4",{attrs:{id:"_3、保存退出，用chmod修改该文件权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、保存退出，用chmod修改该文件权限"}},[t._v("#")]),t._v(" 3、保存退出，用chmod修改该文件权限")]),t._v(" "),a("p",[t._v("# chmod -R 775 hadoop")]),t._v(" "),a("p",[t._v("4、设置hadoop为开机自启动")]),t._v(" "),a("p",[t._v("# chkconfig --add hadoop")]),t._v(" "),a("p",[t._v("# chkconfig --level 345 hadoop on")])])}),[],!1,null,null,null);s.default=e.exports}}]);
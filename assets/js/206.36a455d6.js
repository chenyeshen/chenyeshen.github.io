(window.webpackJsonp=window.webpackJsonp||[]).push([[206],{852:function(s,n,a){"use strict";a.r(n);var t=a(4),e=Object(t.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"生产环境部署（windows）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生产环境部署（windows）"}},[s._v("#")]),s._v(" "),a("strong",[s._v("生产环境部署（windows）")])]),s._v(" "),a("h3",{attrs:{id:"joolun版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#joolun版本"}},[s._v("#")]),s._v(" JooLun版本")]),s._v(" "),a("ul",[a("li",[s._v("V2.7.0+")])]),s._v(" "),a("h3",{attrs:{id:"请严格按照教程操作；不要自己改库名、改包名，教程上没有说的就不要动，这样出了问题我们才好给你排查，等你熟悉项目了再改也不迟；因自己改了教程之外的东西出了问题来咨询技术的，我们都不受理，还会被叼一顿😒"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#请严格按照教程操作；不要自己改库名、改包名，教程上没有说的就不要动，这样出了问题我们才好给你排查，等你熟悉项目了再改也不迟；因自己改了教程之外的东西出了问题来咨询技术的，我们都不受理，还会被叼一顿😒"}},[s._v("#")]),s._v(" 请严格按照教程操作；不要自己改库名、改包名，教程上没有说的就不要动，这样出了问题我们才好给你排查，等你熟悉项目了再改也不迟；因自己改了教程之外的东西出了问题来咨询技术的，我们都不受理，还会被叼一顿😒")]),s._v(" "),a("h3",{attrs:{id:"环境准备（注意版本）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境准备（注意版本）"}},[s._v("#")]),s._v(" 环境准备（注意版本）")]),s._v(" "),a("ul",[a("li",[s._v("windows服务器一台（最低要求配置2核CPU+6G内存+5M带宽，具体看自己业务量；"),a("a",{attrs:{href:"https://promotion.aliyun.com/ntms/yunparter/invite.html?userCode=ktp7i3ac",target:"_blank",rel:"noopener noreferrer"}},[s._v("👍推荐服务器"),a("OutboundLink")],1),s._v("）")]),s._v(" "),a("li",[s._v("MySql8（MySql版本至少5.7或者5.7+，强烈推荐mysql8，建议安装在本机或同一局域网，否则可能会因为网络问题引起超时）")]),s._v(" "),a("li",[s._v("Redis（建议安装在本机或同一局域网，否则可能会因为网络问题引起超时）")]),s._v(" "),a("li",[s._v("JDK8（版本必需8或者8+）")]),s._v(" "),a("li",[s._v("nginx")]),s._v(" "),a("li",[s._v("阿里OSS、七牛云、minio、腾讯cos 四选一")]),s._v(" "),a("li",[s._v("域名一个")]),s._v(" "),a("li",[s._v("给域名申请https证书")]),s._v(" "),a("li",[s._v("申请好小程序一个")]),s._v(" "),a("li",[s._v("申请好微信支付商户一个")]),s._v(" "),a("li",[s._v("必须保证机器的外部网络是通的")])]),s._v(" "),a("h3",{attrs:{id:"后端部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#后端部署"}},[s._v("#")]),s._v(" 后端部署")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("服务器安装mysql8、redis（自行百度）")])]),s._v(" "),a("li",[a("p",[s._v("导入数据库（joolun/db）")])]),s._v(" "),a("li",[a("p",[s._v("修改hosts，以管理员的身份运行SwitchHosts!，添加如下配置（假如你的mysql没在本机，把127.0.0.1换成实际ip就行了）")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 本地开发环境 \n127.0.0.1 base-nacos \n127.0.0.1 base-gateway \n127.0.0.1 base-redis \n127.0.0.1 base-mysql\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[a("a",{attrs:{href:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/20191128112734_n8usaf74n1%5B1%5D.png",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/20191128112734_n8usaf74n1%5B1%5D.png",alt:"img"}}),a("OutboundLink")],1)])]),s._v(" "),a("li",[a("p",[s._v("再用数据库工具直接连base-mysql，看能否连接上MySQL，确保hosts成功修改")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/20191128112734_s71wxv5sso.png",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/20191128112734_s71wxv5sso.png",alt:"img"}}),a("OutboundLink")],1)])]),s._v(" "),a("li",[a("p",[s._v("用idea打包")]),s._v(" "),a("p",[a("code",[s._v("mvn clean install")])]),s._v(" "),a("p",[a("a",{attrs:{href:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/QQ%E6%88%AA%E5%9B%BE20200327094557.png",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/QQ%E6%88%AA%E5%9B%BE20200327094557.png",alt:"img"}}),a("OutboundLink")],1)])]),s._v(" "),a("li",[a("p",[s._v("打包完成后，将整个joolun主目录上传到服务器")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/QQ%E6%88%AA%E5%9B%BE20200219125451.png",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/QQ%E6%88%AA%E5%9B%BE20200219125451.png",alt:"img"}}),a("OutboundLink")],1)])]),s._v(" "),a("li",[a("p",[s._v("修改nacos配置文件中的数据库账号密码（joolun/server/nacos-server/conf/application.properties）")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/QQ%E6%88%AA%E5%9B%BE20200211113114.png",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/QQ%E6%88%AA%E5%9B%BE20200211113114.png",alt:"img"}}),a("OutboundLink")],1)])]),s._v(" "),a("li",[a("p",[s._v("双击（joolun/server/nacos-server/bin/startup.cmd）启动nacos，nacos要一直运行不要关了（Mac或其他系统请查看"),a("a",{attrs:{href:"https://nacos.io/zh-cn/docs/deployment.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("nacos官网"),a("OutboundLink")],1),s._v("）")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/QQ%E6%88%AA%E5%9B%BE20200211113553.png",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/QQ%E6%88%AA%E5%9B%BE20200211113553.png",alt:"img"}}),a("OutboundLink")],1)])]),s._v(" "),a("li",[a("p",[s._v("nacos启动成功后，浏览器中打开http://base-nacos:8848/nacos/index.html 账号密码：nacos/nacos（生产环境记得修改初始密码），如访问不了检查下防火墙是否开放了8848端口")])]),s._v(" "),a("li",[a("p",[s._v("nacos中修改相关密码")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/20191128112734_o83mtouyg5%5B1%5D.png",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/20191128112734_o83mtouyg5%5B1%5D.png",alt:"img"}}),a("OutboundLink")],1),s._v(" application-dev.yml：修改redis密码")]),s._v(" "),a("p",[s._v("base-auth-dev.yml、base-codegen-dev.yml、base-upms-admin-dev.yml、base-weixin-admin-dev.yml、base-mall-admin-dev.yml：修改mysql账号、密码，将root换成自己的账号密码")]),s._v(" "),a("p",[s._v("注意冒号后面要带一个空格")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/20191128112734_x2swv87.png",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/20191128112734_x2swv87.png",alt:"img"}}),a("OutboundLink")],1)])]),s._v(" "),a("li",[a("p",[s._v("商城版还需修改回调地址、快递100授权码等配置（base-mall-admin-dev.yml）；回调地址为网关服务gateway（默认端口9999）地址")]),s._v(" "),a("p",[s._v("注：回调地址要外网能访问，不然收不到支付结果、退款结果、物流信息等，快递100的授权码自行申请 "),a("a",{attrs:{href:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/20191201190443_3bp26p95s8.png",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/20191201190443_3bp26p95s8.png",alt:"img"}}),a("OutboundLink")],1)])]),s._v(" "),a("li",[a("p",[s._v("用windows部署需要把nacos配置中的所有中文全部删掉，不然启动会报错")]),s._v(" "),a("p",[s._v("application-dev.yml、base-auth-dev.yml、base-codegen-dev.yml、base-upms-admin-dev.yml、base-weixin-admin-dev.yml、base-mall-admin-dev.yml所有的配置文件中的中文手动删掉，不然启动会报错")])]),s._v(" "),a("li",[a("p",[s._v("打开cmd窗口cd到joolun主目录，运行jar包")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("java -Xms128m -Xmx512m -jar base-gateway/target/base-gateway.jar >base-gateway.out\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("注意：启服务的cmd窗口不能关闭")])]),s._v(" "),a("li",[a("p",[s._v("启动后可以查看相应服务的日志文件（服务名.out），看是否有报错")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/QQ%E6%88%AA%E5%9B%BE20200219125451.png",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/QQ%E6%88%AA%E5%9B%BE20200219125451.png",alt:"img"}}),a("OutboundLink")],1)])]),s._v(" "),a("li",[a("p",[s._v("重新打开新的cmd窗口接着运行其他服务，一个服务一个窗口，其他服务运动代码如下：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("java -Xms128m -Xmx512m -jar base-auth/target/base-auth.jar >base-auth.out \njava -Xms128m -Xmx256m -jar base-upms/base-upms-admin/target/base-upms-admin.jar >base-upms.out\njava -Xms128m -Xmx512m -jar base-weixin/base-weixin-admin/target/base-weixin-admin.jar >base-weixin-admin.out\njava -Xms128m -Xmx512m -jar base-mall/base-mall-admin/target/base-mall-admin.jar >base-mall-admin.out\njava -Xms128m -Xmx256m -jar base-codegen/target/base-codegen.jar >base-codegen.out\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("如要停止某个服务，关闭相应cmd窗口即可")])]),s._v(" "),a("li",[a("p",[s._v("按顺序启动（nacos -> base-gateway -> base-auth -> base-upms -> base-weixin -> base-mall）")])]),s._v(" "),a("li",[a("p",[s._v("查看每个服务的.out日志文件，看是否有报错，没有报错说明服务启动成功，如有报错请根据错误信息排查问题")])])]),s._v(" "),a("h3",{attrs:{id:"前端部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前端部署"}},[s._v("#")]),s._v(" 前端部署")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("安装nginx（自行百度）")])]),s._v(" "),a("li",[a("p",[s._v("用WebStorm打包")]),s._v(" "),a("p",[a("code",[s._v("npm install --registry=https://registry.npm.taobao.org")])]),s._v(" "),a("p",[a("code",[s._v("npm run build")])]),s._v(" "),a("p",[a("a",{attrs:{href:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/20191128115606_p04y7muru7.png",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/20191128115606_p04y7muru7.png",alt:"img"}}),a("OutboundLink")],1)])]),s._v(" "),a("li",[a("p",[s._v("上传打包后的dist文件夹到E:\\JL\\all\\project\\joolun-wx\\joolun-ui\\目录下")])]),s._v(" "),a("li",[a("p",[s._v("修改nginx配置")]),s._v(" "),a("p",[s._v("不同版本的nginx配置文件有所不同根据自己实际版本操作")]),s._v(" "),a("p",[s._v("在http {}标签中增加一个80的server，代码如下")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("server {\n        listen       80;\n        server_name  demo.joolun.com;\n\n        # 打包好的dist目录\n        root E:/JL/all/project/joolun-wx/joolun-ui/dist/;\n\n        location ~* ^/(auth|code|admin|gen|weixin|mall|doc|webjars|swagger-resources|upms) {\n           proxy_pass http://127.0.0.1:9999;\n           #proxy_set_header Host $http_host;\n           proxy_connect_timeout 15s;\n           proxy_send_timeout 300s;\n           proxy_read_timeout 300s;\n           proxy_set_header X-Real-IP $remote_addr;\n           proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        }\n        error_page   500 502 503 504  /50x.html;\n        location = /50x.html {\n            root   html;\n        }\n    }\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("启动nginx")])]),s._v(" "),a("li",[a("p",[s._v("后台访问")]),s._v(" "),a("p",[s._v("浏览器中输入服务器IP即可访问后台了")])])]),s._v(" "),a("h3",{attrs:{id:"小程序端部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小程序端部署"}},[s._v("#")]),s._v(" 小程序端部署")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("由于小程序官方规定所有请求必需是https协议，所以我们要开启https，通过nginx实现")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("申请ssl证书，推荐阿里云的，下载nginx类型的证书")])]),s._v(" "),a("li",[a("p",[s._v("修改nginx配置")]),s._v(" "),a("p",[s._v("在http {}标签中增加一个443 ssl的server，和上面的80server并列，代码如下")]),s._v(" "),a("p",[s._v("443做为https端口")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("server {\n        listen       443 ssl;\n        server_name  demo.joolun.com;\n        #证书的路径\n        ssl_certificate      E:/JL/ssl/2881620_demo.joolun.com.pem;\n        ssl_certificate_key  E:/JL/ssl/2881620_demo.joolun.com.key;\n\n        ssl_session_cache    shared:SSL:1m;\n        ssl_session_timeout  5m;\n\n        ssl_ciphers  HIGH:!aNULL:!MD5;\n        ssl_prefer_server_ciphers  on;\n\n        # 打包好的dist目录文件目录\n        root E:/JL/all/project/joolun-wx/joolun-ui/dist/;\n        location ~* ^/(auth|code|admin|gen|weixin|mall|doc|webjars|swagger-resources|upms) {\n           proxy_pass http://127.0.0.1:9999;\n           proxy_connect_timeout 15s;\n           proxy_send_timeout 300s;\n           proxy_read_timeout 300s;\n           proxy_set_header X-Real-IP $remote_addr;\n           proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        }\n    }\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br")])])])])]),s._v(" "),a("li",[a("p",[s._v("设置服务器域名（"),a("a",{attrs:{href:"https://mp.weixin.qq.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://mp.weixin.qq.com"),a("OutboundLink")],1),s._v("）")]),s._v(" "),a("p",[s._v("将你nginx中https配置的域名添加到域名列表中")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/20191128112641_3ouvj497de.png",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/20191128112641_3ouvj497de.png",alt:"img"}}),a("OutboundLink")],1),s._v(" "),a("img",{attrs:{src:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/QQ%E6%88%AA%E5%9B%BE20200222163109.png",alt:"img"}})])]),s._v(" "),a("li",[a("p",[s._v("修改配置文件（joolun-ma/config/env.js）中的服务器地址，改为上面的生产环境地址，必须https协议")])]),s._v(" "),a("li",[a("p",[s._v("关闭微信开发者工具的不校验合法域名（把勾去掉）")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/20191128112735_qf2qn8dkhe.png",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/20191128112735_qf2qn8dkhe.png",alt:"img"}}),a("OutboundLink")],1)])]),s._v(" "),a("li",[a("p",[s._v("编译小程序")]),s._v(" "),a("p",[s._v("看小程序能否成功加载出数据")])]),s._v(" "),a("li",[a("p",[s._v("小程序成功加载出数据后即可上传小程序代码 "),a("a",{attrs:{href:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/QQ%E6%88%AA%E5%9B%BE20200211131951.png",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/QQ%E6%88%AA%E5%9B%BE20200211131951.png",alt:"img"}}),a("OutboundLink")],1)])]),s._v(" "),a("li",[a("p",[s._v("上传成功后登录微信公众平台，提交审核 "),a("a",{attrs:{href:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/QQ%E6%88%AA%E5%9B%BE20200211132619.png",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://joolun-blog.oss-cn-zhangjiakou.aliyuncs.com/git/QQ%E6%88%AA%E5%9B%BE20200211132619.png",alt:"img"}}),a("OutboundLink")],1)])]),s._v(" "),a("li",[a("p",[s._v("待微信官方审核通过后，发布代码")])]),s._v(" "),a("li",[a("p",[s._v("商城版需要将redis的key过期推送功能打开，否则订单无法自动取消（自行百度redis的key过期推送怎么打开）")])])])])}),[],!1,null,null,null);n.default=e.exports}}]);
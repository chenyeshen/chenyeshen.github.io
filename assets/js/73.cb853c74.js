(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{720:function(s,n,e){"use strict";e.r(n);var t=e(4),a=Object(t.a)({},(function(){var s=this,n=s.$createElement,e=s._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"kaptcha-简介"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#kaptcha-简介"}},[s._v("#")]),s._v(" Kaptcha 简介")]),s._v(" "),e("p",[s._v("Kaptcha 是一个可高度配置的实用验证码生成工具，可自由配置的选项如：")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("验证码的字体")])]),s._v(" "),e("li",[e("p",[s._v("验证码字体的大小")])]),s._v(" "),e("li",[e("p",[s._v("验证码字体的字体颜色")])]),s._v(" "),e("li",[e("p",[s._v("验证码内容的范围(数字，字母，中文汉字！)")])]),s._v(" "),e("li",[e("p",[s._v("验证码图片的大小，边框，边框粗细，边框颜色")])]),s._v(" "),e("li",[e("p",[s._v("验证码的干扰线")])]),s._v(" "),e("li",[e("p",[s._v("验证码的样式(鱼眼样式、3D、普通模糊、...)")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://gitee.com/daixiaomao/Images/raw/master/img/20201024113220.png",alt:"image-20201024112932803"}})])])]),s._v(" "),e("h2",{attrs:{id:"用法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#用法"}},[s._v("#")]),s._v(" 用法")]),s._v(" "),e("p",[s._v("可以去官网http://code.google.com/p/kaptcha/下载jar，或者在pom.xml中导入")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("<dependency>\n    <groupId>com.google.code.kaptcha</groupId>\n    <artifactId>kaptcha</artifactId>\n    <version>2.3</version>\n</dependency>\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("或者")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("<dependency>\n    <groupId>com.github.penggle</groupId>\n    <artifactId>kaptcha</artifactId>\n    <version>2.3.2</version>\n</dependency>\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h2",{attrs:{id:"主要代码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#主要代码"}},[s._v("#")]),s._v(" "),e("strong",[s._v("主要代码")])]),s._v(" "),e("p",[s._v("KaptchaConfig.java")]),s._v(" "),e("p",[s._v("["),e("img",{attrs:{src:"https://common.cnblogs.com/images/copycode.gif",alt:"复制代码"}}),s._v("](javascript:void(0)😉")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('@Component\npublic class KaptchaConfig {\n    @Bean\n    public DefaultKaptcha getDDefaultKaptcha() {\n        DefaultKaptcha dk = new DefaultKaptcha();\n        Properties properties = new Properties();\n        // 图片边框\n        properties.setProperty("kaptcha.border", "yes");\n        // 边框颜色\n        properties.setProperty("kaptcha.border.color", "105,179,90");\n        // 字体颜色\n        properties.setProperty("kaptcha.textproducer.font.color", "red");\n        // 图片宽\n        properties.setProperty("kaptcha.image.width", "110");\n        // 图片高\n        properties.setProperty("kaptcha.image.height", "40");\n        // 字体大小\n        properties.setProperty("kaptcha.textproducer.font.size", "30");\n        // session key\n        properties.setProperty("kaptcha.session.key", "code");\n        // 验证码长度\n        properties.setProperty("kaptcha.textproducer.char.length", "4");\n        // 字体\n        properties.setProperty("kaptcha.textproducer.font.names", "宋体,楷体,微软雅黑");\n        Config config = new Config(properties);\n        dk.setConfig(config);\n\n        return dk;\n    }\n}\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br")])]),e("p",[s._v("["),e("img",{attrs:{src:"https://common.cnblogs.com/images/copycode.gif",alt:"复制代码"}}),s._v("](javascript:void(0)😉")]),s._v(" "),e("p",[s._v("KaptchaController.java")]),s._v(" "),e("p",[s._v("["),e("img",{attrs:{src:"https://common.cnblogs.com/images/copycode.gif",alt:"复制代码"}}),s._v("](javascript:void(0)😉")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('@Controller\npublic class KaptchaController {\n    /**\n     * 验证码工具\n     */\n    @Autowired\n    DefaultKaptcha defaultKaptcha;\n\n    @RequestMapping("/defaultKaptcha")\n    public void defaultKaptcha(HttpServletRequest request, HttpServletResponse response) throws Exception {\n        byte[] captcha = null;\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n\n        try {\n            // 将生成的验证码保存在session中\n            String createText = defaultKaptcha.createText();\n            request.getSession().setAttribute("rightCode", createText);\n            BufferedImage bi = defaultKaptcha.createImage(createText);\n            ImageIO.write(bi, "jpg", out);\n        } catch (Exception e) {\n            response.sendError(HttpServletResponse.SC_NOT_FOUND);\n            return;\n        }\n\n        captcha = out.toByteArray();\n        response.setHeader("Cache-Control", "no-store");\n        response.setHeader("Pragma", "no-cache");\n        response.setDateHeader("Expires", 0);\n        response.setContentType("image/jpeg");\n        ServletOutputStream sout = response.getOutputStream();\n        sout.write(captcha);\n        sout.flush();\n        sout.close();\n    }\n\n    /**\n     * 校对验证码\n     * \n     * @param request\n     * @param response\n     * @return\n     */\n    @RequestMapping(value = "/login", method = RequestMethod.POST)\n    public ModelAndView imgvrifyControllerDefaultKaptcha(HttpServletRequest request, HttpServletResponse response) {\n        ModelAndView model = new ModelAndView();\n        String rightCode = (String) request.getSession().getAttribute("rightCode");\n        String tryCode = request.getParameter("tryCode");\n        System.out.println("rightCode:" + rightCode + " ———— tryCode:" + tryCode);\n        if (!rightCode.equals(tryCode)) {\n            model.addObject("info", "验证码错误,请再输一次!");\n            model.setViewName("login");\n        } else {\n            model.addObject("info", "登陆成功");\n            model.setViewName("index");\n        }\n        return model;\n    }\n\n    /**\n     * 返回首页\n     * \n     * @return\n     */\n    @RequestMapping(value = "/login", method = RequestMethod.GET)\n    public ModelAndView index() {\n        return new ModelAndView("login");\n    }\n}\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br"),e("span",{staticClass:"line-number"},[s._v("38")]),e("br"),e("span",{staticClass:"line-number"},[s._v("39")]),e("br"),e("span",{staticClass:"line-number"},[s._v("40")]),e("br"),e("span",{staticClass:"line-number"},[s._v("41")]),e("br"),e("span",{staticClass:"line-number"},[s._v("42")]),e("br"),e("span",{staticClass:"line-number"},[s._v("43")]),e("br"),e("span",{staticClass:"line-number"},[s._v("44")]),e("br"),e("span",{staticClass:"line-number"},[s._v("45")]),e("br"),e("span",{staticClass:"line-number"},[s._v("46")]),e("br"),e("span",{staticClass:"line-number"},[s._v("47")]),e("br"),e("span",{staticClass:"line-number"},[s._v("48")]),e("br"),e("span",{staticClass:"line-number"},[s._v("49")]),e("br"),e("span",{staticClass:"line-number"},[s._v("50")]),e("br"),e("span",{staticClass:"line-number"},[s._v("51")]),e("br"),e("span",{staticClass:"line-number"},[s._v("52")]),e("br"),e("span",{staticClass:"line-number"},[s._v("53")]),e("br"),e("span",{staticClass:"line-number"},[s._v("54")]),e("br"),e("span",{staticClass:"line-number"},[s._v("55")]),e("br"),e("span",{staticClass:"line-number"},[s._v("56")]),e("br"),e("span",{staticClass:"line-number"},[s._v("57")]),e("br"),e("span",{staticClass:"line-number"},[s._v("58")]),e("br"),e("span",{staticClass:"line-number"},[s._v("59")]),e("br"),e("span",{staticClass:"line-number"},[s._v("60")]),e("br"),e("span",{staticClass:"line-number"},[s._v("61")]),e("br"),e("span",{staticClass:"line-number"},[s._v("62")]),e("br"),e("span",{staticClass:"line-number"},[s._v("63")]),e("br"),e("span",{staticClass:"line-number"},[s._v("64")]),e("br"),e("span",{staticClass:"line-number"},[s._v("65")]),e("br"),e("span",{staticClass:"line-number"},[s._v("66")]),e("br"),e("span",{staticClass:"line-number"},[s._v("67")]),e("br"),e("span",{staticClass:"line-number"},[s._v("68")]),e("br")])]),e("p",[s._v("前端页面")]),s._v(" "),e("p",[s._v("login.html")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('<!DOCTYPE html>\n<html xmlns:th="http://www.thymeleaf.org">\n<head lang="en">\n<meta charset="UTF-8">\n<title>Insert title here</title>\n<link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">  \n<script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"><\/script>\n<script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"><\/script>\n<style type="text/css">\nbody {\n    padding: 10px;\n}\n#inputtext {\n    width: 100%;\n}\n#login{\n    width: 300px;\n    margin:0px auto;\n    padding-top: 60px;\n}\n#flushimg{\n    text-decoration: underline;\n}\n#butt{\n    width: 60%;\n}\n</style>\n</head>\n<body>\n<div id="login">\n    <form action="/login" method="post">\n        <h2 align="center">L O G I N</h2><br/><br/>\n        <input type="text" name="userName" class="form-control" id="inputtext" required autofocus placeholder="-----请输入用户名-----"/><br/>\n        <input type="password" name="userName" class="form-control" id="inputtext" required placeholder="----请输入用户密码----"/><br/>\n        <div id="flushimg">\n            <img alt="验证码" onclick="this.src=\'/defaultKaptcha?d=\' + new Date()*1" src="/defaultKaptcha" />\n            <a>看不清？点击图片刷新一下</a>\n        </div> \n            <input type="text" name="tryCode" class="form-control" required placeholder="-----请输入验证码-----" />\n            <h4 th:text="${info}" style="color: red"></h4>\n            <input type="checkbox" name="rememberMe"/>记住我<br/>\n            <div style="width: 100%;text-align: center;"><input type="submit" value="登 录" id="butt" class="btn btn-success" /></div>\n    </form>\n</div>\n</body>\n</html>\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br"),e("span",{staticClass:"line-number"},[s._v("38")]),e("br"),e("span",{staticClass:"line-number"},[s._v("39")]),e("br"),e("span",{staticClass:"line-number"},[s._v("40")]),e("br"),e("span",{staticClass:"line-number"},[s._v("41")]),e("br"),e("span",{staticClass:"line-number"},[s._v("42")]),e("br"),e("span",{staticClass:"line-number"},[s._v("43")]),e("br"),e("span",{staticClass:"line-number"},[s._v("44")]),e("br"),e("span",{staticClass:"line-number"},[s._v("45")]),e("br"),e("span",{staticClass:"line-number"},[s._v("46")]),e("br")])]),e("p",[s._v("index.html")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('<!DOCTYPE html>\n<html>\n<head>\n<meta charset="UTF-8">\n<title>Insert title here</title>\n</head>\n<body>\n    <h2>验证成功！</h2>\n</body>\n</html>\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("h2",{attrs:{id:"页面效果"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#页面效果"}},[s._v("#")]),s._v(" "),e("strong",[s._v("页面效果")])]),s._v(" "),e("p",[e("strong",[s._v("地址栏输入：localhost:8080/login")])]),s._v(" "),e("p",[e("img",{attrs:{src:"https://img2018.cnblogs.com/blog/1745855/201907/1745855-20190719162600656-1848005006.png",alt:"img"}})])])}),[],!1,null,null,null);n.default=a.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{690:function(a,s,e){"use strict";e.r(s);var t=e(4),n=Object(t.a)({},(function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h2",{attrs:{id:"将springboot项目打包-jar包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#将springboot项目打包-jar包"}},[a._v("#")]),a._v(" 将springboot项目打包 jar包")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://gitee.com/daixiaomao/Images/raw/master/img/image-20201229164431685.png",alt:"image-20201229164431685"}})]),a._v(" "),e("h2",{attrs:{id:"创建dockerfile文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建dockerfile文件"}},[a._v("#")]),a._v(" 创建Dockerfile文件")]),a._v(" "),e("p",[a._v("编写Dockerfile")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('FROM java:8\nCOPY *.jar /springboot.jar\nCMD ["--server.port=5050"]\nEXPOSE 5050\nENTRYPOINT ["java","-jar","/springboot.jar"]\n')])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br")])]),e("h2",{attrs:{id:"小知识点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#小知识点"}},[a._v("#")]),a._v(" 小知识点")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://gitee.com/daixiaomao/Images/raw/master/img/image-20201229173303583.png",alt:"image-20201229173303583"}})]),a._v(" "),e("p",[a._v("ENTRYPOINT拼接CMD  实际上运行的脚本为")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("java -jar springboot.jar --server.port=5050\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://gitee.com/daixiaomao/Images/raw/master/img/image-20201229164230364.png",alt:"image-20201229164230364"}})]),a._v(" "),e("h2",{attrs:{id:"centos创建一个空的文件夹-上传jar包和dockerfile文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#centos创建一个空的文件夹-上传jar包和dockerfile文件"}},[a._v("#")]),a._v(" centos创建一个空的文件夹 上传jar包和Dockerfile文件")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://gitee.com/daixiaomao/Images/raw/master/img/image-20201229170740451.png",alt:"image-20201229170740451"}})]),a._v(" "),e("p",[e("img",{attrs:{src:"https://gitee.com/daixiaomao/Images/raw/master/img/image-20201229164634576.png",alt:"image-20201229164634576"}})]),a._v(" "),e("h2",{attrs:{id:"使用docker下载java-8-镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用docker下载java-8-镜像"}},[a._v("#")]),a._v(" 使用docker下载Java 8 镜像")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("[root@localhost docker]# docker pull java:8\nTrying to pull repository docker.io/library/java ... \n8: Pulling from docker.io/library/java\nDigest: sha256:c1ff613e8ba25833d2e1940da0940c3824f03f802c449f3d1815a66b7f8c0e9d\nStatus: Image is up to date for docker.io/java:8\n\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br")])]),e("h2",{attrs:{id:"使用docker构建镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用docker构建镜像"}},[a._v("#")]),a._v(" 使用docker构建镜像")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("docker build -t springboot .\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("[root@localhost ~]# ls\nanaconda-ks.cfg  docker\n[root@localhost ~]# cd docker\n[root@localhost docker]# ls\ndemo-0.0.1-SNAPSHOT.jar  Dockerfile\n[root@localhost docker]# docker build -t springboot .\nSending build context to Docker daemon 30.86 MB\nStep 1/5 : FROM java:8\n ---\x3e d23bdf5b1b1b\nStep 2/5 : COPY *.jar /app.jar\n ---\x3e Using cache\n ---\x3e f8de562ac4b7\nStep 3/5 : CMD --server.port=5050\n ---\x3e Using cache\n ---\x3e dfafb6acfdcc\nStep 4/5 : EXPOSE 5050\n ---\x3e Using cache\n ---\x3e 832c5dffe644\nStep 5/5 : ENTRYPOINT java -jar /app.jar\n ---\x3e Using cache\n ---\x3e 28d6f222ae7d\nSuccessfully built 28d6f222ae7d\n[root@localhost docker]# \n\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br"),e("span",{staticClass:"line-number"},[a._v("12")]),e("br"),e("span",{staticClass:"line-number"},[a._v("13")]),e("br"),e("span",{staticClass:"line-number"},[a._v("14")]),e("br"),e("span",{staticClass:"line-number"},[a._v("15")]),e("br"),e("span",{staticClass:"line-number"},[a._v("16")]),e("br"),e("span",{staticClass:"line-number"},[a._v("17")]),e("br"),e("span",{staticClass:"line-number"},[a._v("18")]),e("br"),e("span",{staticClass:"line-number"},[a._v("19")]),e("br"),e("span",{staticClass:"line-number"},[a._v("20")]),e("br"),e("span",{staticClass:"line-number"},[a._v("21")]),e("br"),e("span",{staticClass:"line-number"},[a._v("22")]),e("br"),e("span",{staticClass:"line-number"},[a._v("23")]),e("br"),e("span",{staticClass:"line-number"},[a._v("24")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://gitee.com/daixiaomao/Images/raw/master/img/image-20201229165300525.png",alt:"image-20201229165300525"}})]),a._v(" "),e("h2",{attrs:{id:"查看构建的镜像-springboot镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看构建的镜像-springboot镜像"}},[a._v("#")]),a._v(" 查看构建的镜像   springboot镜像")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("docker images\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://gitee.com/daixiaomao/Images/raw/master/img/image-20201229165444245.png",alt:"image-20201229165444245"}})]),a._v(" "),e("h2",{attrs:{id:"运行springboot镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#运行springboot镜像"}},[a._v("#")]),a._v(" 运行springboot镜像")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("[root@localhost docker]# docker run -itd --name springboot01 -p 5050:5050 springboot\n256e9521e894712fc0dc635bb4e416c9e2f7ebc9c07a4f01ffb901a062e25c67\n[root@localhost docker]# \n\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br")])]),e("h2",{attrs:{id:"查看正在运行的docker容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看正在运行的docker容器"}},[a._v("#")]),a._v(" 查看正在运行的docker容器")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("docker ps\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('[root@localhost docker]# docker ps\nCONTAINER ID        IMAGE               COMMAND                  CREATED              STATUS              PORTS                               NAMES\n256e9521e894        springboot          "java -jar /app.ja..."   About a minute ago   Up About a minute   0.0.0.0:5050->5050/tcp              springboot01\nd80767f2a1cd        spring              "java -jar /app.ja..."   24 minutes ago       Up 24 minutes       0.0.0.0:50->5050/tcp                spring\nfb6646e35dfe        mysql               "docker-entrypoint..."   4 days ago           Up 59 minutes       0.0.0.0:3306->3306/tcp, 33060/tcp   mysql\nf349e1e5bfa1        nginx               "/docker-entrypoin..."   5 days ago           Up 59 minutes       0.0.0.0:70->80/tcp                  nginx\nff56b67af93e        redis               "docker-entrypoint..."   5 days ago           Up 59 minutes       0.0.0.0:6380->6379/tcp              redis\n[root@localhost docker]# \n\n')])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://gitee.com/daixiaomao/Images/raw/master/img/image-20201229165943110.png",alt:"image-20201229165943110"}})]),a._v(" "),e("h2",{attrs:{id:"开启防火墙端口"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开启防火墙端口"}},[a._v("#")]),a._v(" 开启防火墙端口")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("firewall-cmd --add-port=5050/tcp --permanent\n#重新加载防火墙规则：\nfirewall-cmd --reload\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://gitee.com/daixiaomao/Images/raw/master/img/image-20201229170607520.png",alt:"image-20201229170607520"}})]),a._v(" "),e("h2",{attrs:{id:"访问springboot的接口-ok了"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#访问springboot的接口-ok了"}},[a._v("#")]),a._v(" 访问springboot的接口 OK了")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://gitee.com/daixiaomao/Images/raw/master/img/image-20201229170224009.png",alt:"image-20201229170224009"}})]),a._v(" "),e("h2",{attrs:{id:"好玩的呀"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#好玩的呀"}},[a._v("#")]),a._v(" 好玩的呀")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('[root@localhost docker]# clear\n[root@localhost docker]# docker ps -a\nCONTAINER ID        IMAGE                         COMMAND                  CREATED             STATUS                        PORTS                               NAMES\n256e9521e894        springboot                    "java -jar /app.ja..."   18 minutes ago      Exited (143) 36 seconds ago                                       springboot01\nd80767f2a1cd        spring                        "java -jar /app.ja..."   41 minutes ago      Up 41 minutes                 0.0.0.0:50->5050/tcp                spring\nb2d96e9ce310        tomcat                        "catalina.sh run"        17 hours ago        Exited (143) 2 hours ago                                          tomcat\n112cc64dc04b        wurstmeister/zookeeper        "/bin/sh -c \'/usr/..."   4 days ago          Exited (137) 4 days ago                                           zookeeper\nd1572c44d301        bladex/sentinel-dashboard     "java -Djava.secur..."   4 days ago          Exited (143) 41 hours ago                                         sentinel\nd52563b7947f        seataio/seata-server:latest   "java -Djava.secur..."   4 days ago          Exited (143) 4 days ago                                           seata-server\n807392476b1f        mongo                         "docker-entrypoint..."   4 days ago          Exited (0) 4 days ago                                             mongo\nfb6646e35dfe        mysql                         "docker-entrypoint..."   4 days ago          Up About an hour              0.0.0.0:3306->3306/tcp, 33060/tcp   mysql\nf349e1e5bfa1        nginx                         "/docker-entrypoin..."   5 days ago          Up About an hour              0.0.0.0:70->80/tcp                  nginx\nff56b67af93e        redis                         "docker-entrypoint..."   5 days ago          Up About an hour              0.0.0.0:6380->6379/tcp              redis\n[root@localhost docker]# docker start springboot01\nspringboot01\n[root@localhost docker]# docker exec -it springboot01 bash\nroot@256e9521e894:/# ls\napp.jar  bin  boot  dev  etc  home  lib  lib64\tmedia  mnt  opt  proc  root  run  sbin\tsrv  sys  tmp  usr  var\nroot@256e9521e894:/# java -jar app.jar\n\n  .   ____          _            __ _ _\n /\\\\ / ___\'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | \'_ | \'_| | \'_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  \'  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.4.1)\n\n2020-12-29 09:17:10.787  INFO 55 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication v0.0.1-SNAPSHOT using Java 1.8.0_111 on 256e9521e894 with PID 55 (/app.jar started by root in /)\n2020-12-29 09:17:10.790 DEBUG 55 --- [           main] com.example.demo.DemoApplication         : Running with Spring Boot v2.4.1, Spring v5.3.2\n2020-12-29 09:17:10.791  INFO 55 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default\n2020-12-29 09:17:12.267  INFO 55 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7020 (http)\n2020-12-29 09:17:12.284  INFO 55 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2020-12-29 09:17:12.284  INFO 55 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.41]\n2020-12-29 09:17:12.356  INFO 55 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2020-12-29 09:17:12.356  INFO 55 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1485 ms\n2020-12-29 09:17:12.519  INFO 55 --- [           main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource\n2020-12-29 09:17:12.683  INFO 55 --- [           main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited\n _ _   |_  _ _|_. ___ _ |    _ \n| | |\\/|_)(_| | |_\\  |_)||_|_\\ \n     /               |         \n                        3.3.2 \n2020-12-29 09:17:13.279  INFO 55 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService \'applicationTaskExecutor\'\n2020-12-29 09:17:13.499  INFO 55 --- [           main] c.a.j.a.AbstractCacheAutoInit            : init cache area default , type= linkedhashmap\n2020-12-29 09:17:13.518  INFO 55 --- [           main] c.a.j.support.DefaultMetricsManager      : cache stat period at 15 MINUTES\n2020-12-29 09:17:13.522  INFO 55 --- [           main] c.a.j.a.AbstractCacheAutoInit            : init cache area default , type= redis\n2020-12-29 09:17:13.656  INFO 55 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7020 (http) with context path \'\'\n2020-12-29 09:17:13.672  INFO 55 --- [           main] com.example.demo.DemoApplication         : Started DemoApplication in 3.487 seconds (JVM running for 3.961)\n\n')])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br"),e("span",{staticClass:"line-number"},[a._v("12")]),e("br"),e("span",{staticClass:"line-number"},[a._v("13")]),e("br"),e("span",{staticClass:"line-number"},[a._v("14")]),e("br"),e("span",{staticClass:"line-number"},[a._v("15")]),e("br"),e("span",{staticClass:"line-number"},[a._v("16")]),e("br"),e("span",{staticClass:"line-number"},[a._v("17")]),e("br"),e("span",{staticClass:"line-number"},[a._v("18")]),e("br"),e("span",{staticClass:"line-number"},[a._v("19")]),e("br"),e("span",{staticClass:"line-number"},[a._v("20")]),e("br"),e("span",{staticClass:"line-number"},[a._v("21")]),e("br"),e("span",{staticClass:"line-number"},[a._v("22")]),e("br"),e("span",{staticClass:"line-number"},[a._v("23")]),e("br"),e("span",{staticClass:"line-number"},[a._v("24")]),e("br"),e("span",{staticClass:"line-number"},[a._v("25")]),e("br"),e("span",{staticClass:"line-number"},[a._v("26")]),e("br"),e("span",{staticClass:"line-number"},[a._v("27")]),e("br"),e("span",{staticClass:"line-number"},[a._v("28")]),e("br"),e("span",{staticClass:"line-number"},[a._v("29")]),e("br"),e("span",{staticClass:"line-number"},[a._v("30")]),e("br"),e("span",{staticClass:"line-number"},[a._v("31")]),e("br"),e("span",{staticClass:"line-number"},[a._v("32")]),e("br"),e("span",{staticClass:"line-number"},[a._v("33")]),e("br"),e("span",{staticClass:"line-number"},[a._v("34")]),e("br"),e("span",{staticClass:"line-number"},[a._v("35")]),e("br"),e("span",{staticClass:"line-number"},[a._v("36")]),e("br"),e("span",{staticClass:"line-number"},[a._v("37")]),e("br"),e("span",{staticClass:"line-number"},[a._v("38")]),e("br"),e("span",{staticClass:"line-number"},[a._v("39")]),e("br"),e("span",{staticClass:"line-number"},[a._v("40")]),e("br"),e("span",{staticClass:"line-number"},[a._v("41")]),e("br"),e("span",{staticClass:"line-number"},[a._v("42")]),e("br"),e("span",{staticClass:"line-number"},[a._v("43")]),e("br"),e("span",{staticClass:"line-number"},[a._v("44")]),e("br"),e("span",{staticClass:"line-number"},[a._v("45")]),e("br"),e("span",{staticClass:"line-number"},[a._v("46")]),e("br"),e("span",{staticClass:"line-number"},[a._v("47")]),e("br"),e("span",{staticClass:"line-number"},[a._v("48")]),e("br"),e("span",{staticClass:"line-number"},[a._v("49")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://gitee.com/daixiaomao/Images/raw/master/img/image-20201229171759832.png",alt:"image-20201229171759832"}})])])}),[],!1,null,null,null);s.default=n.exports}}]);